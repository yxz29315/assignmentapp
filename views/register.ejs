<!DOCTYPE html>
<html>
	<head>
		<title>Welcome!</title>

		<!-- Meta tag Keywords -->
		<meta name="viewport" content="width=device-width, initial-scale=1" />
		<meta charset="UTF-8" />
		<meta
			name="description"
			content="Student Assignment Submission Systeme"
		/>
		<meta
			name="author"
			content="Shawn Zhang"
		/>

		<!-- Chrome, Firefox OS and Opera -->
		<meta name="theme-color" content="#000" />
		<!-- Windows Phone -->
		<meta name="msapplication-navbutton-color" content="#000" />
		<!-- iOS Safari -->
		<meta name="apple-mobile-web-app-status-bar-style" content="#000" />

		<!-- //Meta tag Keywords -->

		<!-- Bootstrap -->
		<!-- CSS only -->
		<link
			rel="stylesheet"
			href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css"
			integrity="sha384-JcKb8q3iqJ61gNV9KGb8thSsNjpSL0n8PARn9HuZOnIxN0hoP+VmmDGMN5t9UJ0Z"
			crossorigin="anonymous"
		/>

		<!-- JS, Popper.js, and jQuery -->
		<script
			src="https://code.jquery.com/jquery-3.5.1.min.js"
			integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0="
			crossorigin="anonymous"
		></script>
		<script
			src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js"
			integrity="sha384-9/reFTGAW83EW2RDu2S0VKaIzap3H66lZH81PoYlFhbGU+6BZp6G7niu735Sk7lN"
			crossorigin="anonymous"
		></script>
		<script
			src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"
			integrity="sha384-B4gt1jrGC7Jh4AgTPSdUtOBvfO8shuf57BaghqFfPlYxofvL8/KUEfYiJOMMV+rV"
			crossorigin="anonymous"
		></script>

		<!-- CSS -->
		<link rel="stylesheet" href="css/style.css" />

		<!-- FontAwesome -->
		<link
			rel="stylesheet"
			href="https://use.fontawesome.com/releases/v5.14.0/css/all.css"
			integrity="sha384-HzLeBuhoNPvSl5KYnjx0BT+WB0QEEqLprO+NBkkk5gbc67FTaL7XIGa2w1L0Xbgc"
			crossorigin="anonymous"
		/>
	</head>
	<body>
		<div class="container pt-5">
			<div class="text-center">
				<h2 class="text-primary cursive">
					Assign <span class="text-danger">Tree!</span>
				</h2>
				<p>Platform for Easy Assignment Submission</p>
			</div>

			<form id="test" action="javascript: void(0)">
				<div class="form-group">
					<label for="First-Name">Full Name</label>
					<input
						type="text"
						class="form-control mb-3"
						name="name"
						id="name"
						required
					/>

					<label for="Email">Email</label>
					<input
						type="email"
						class="form-control mb-3"
						name="username"
						id="email"
						required
					/>

					<label for="Password">Password</label>
					<input
						type="password"
						class="form-control mb-3"
						name="password"
						id="password"
						required
					/>
					<label for="Password">Password Again</label>
					<input
						type="password"
						class="form-control mb-3"
						name="passwordagain"
						id="passwordagain"
						required
					/>

					<small id="status"></small>

					<div class="text-center">
						<input
							type="submit"
							name=""
							id=""
							class="btn btn-success"
						/>
					</div>
				</div>
			</form>
		</div>

		<script type="text/javascript">
			function sendreq() {
				
				email = $('#email').val();
				pass = $('#password').val();
				passwordagain = $('#passwordagain').val();
				name = $('#name').val();

				var ser = {};

				ser['username'] = email;
				ser['password'] = pass;
				ser['passwordagain'] = passwordagain;
				ser['name'] = name

				$.ajax({
					url: '/signup',
					type: 'POST',
					data: ser,
					success: function (res) {
						if (res.message == 'done') {
							window.location.href = '/dashboard';
						} else {
							document.getElementById('status').innerHTML = res.message;
						}
					},
					error: function (res) {
						
					}
				});
			}

			document.getElementById('test').onsubmit = function () {
				sendreq();
				return false;
			};
		</script>
	</body>
</html>
